<!DOCTYPE html>
<html xmlns:th="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <link th:href="@{/css/style.css}" rel="styleSheet">
    <script th:src="@{/js/main.js}"></script>
    <title>ユーザー編集画面</title>
</head>
<body>
<h2>ユーザー編集画面</h2>
<form th:method="put" th:action="@{/admin/update/{id}(id=${formModel.id})}" th:object="${formModel}">
    <!-- CSRFトークン -->
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
    <!-- エラーメッセージ -->
    <div class="errorMessages">
        <div th:if="${#fields.hasErrors('account')}" th:errors="*{account}"></div>
        <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>
        <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
        <div th:if="${#fields.hasErrors('departmentId')}" th:errors="*{departmentId}"></div>
        <div th:if="${#fields.hasErrors('authority')}" th:errors="*{authority}"></div>
        <div th:if="${#fields.hasErrors('workStart')}" th:errors="*{workStart}"></div>
        <div th:if="${#fields.hasErrors('workEnd')}" th:errors="*{workEnd}"></div>
        <div th:if="${#fields.hasErrors('restStart')}" th:errors="*{restStart}"></div>
        <div th:if="${#fields.hasErrors('restEnd')}" th:errors="*{restEnd}"></div>
    </div>
    <!--入力フォーム-->
    <labele>社員番号(半角数字7桁)</labele>
    <input type="text" th:field="*{account}">
    <br />
    <lavel>パスワード(記号を含む半角6文字以上20文字以下)</lavel>
    <input type="password" th:field="*{password}">
    <br />
    <label>確認用パスワード</label>
    <input type="password" name="confirmationPassword" th:value="${confirmationPassword}">
    <br />
    <label>氏名(10文字以下)</label>
    <input type="text" th:field="*{name}">
    <br />
    <label>所属部署</label>
    <select th:field="*{departmentId}">
        <option value="" selected></option>
        <option value="1">人事部</option>
        <option value="2">営業部</option>
        <option value="3">技術部</option>
    </select>
    <br />
    <label>権限</label>
    <select th:field="*{authority}">
        <option value="" selected></option>
        <option value="0">承認者</option>
        <option value="1">一般</option>
    </select>
    <br />
    <label>勤務開始</label>
    <input type="time" name="workStart" th:value="${#temporals.format(formModel.workStart, 'HH:mm')}">
    <br />
    <label>勤務終了</label>
    <input type="time" th:field="*{workEnd}">
    <br />
    <label>休憩開始</label>
    <input type="time" th:field="*{restStart}">
    <br />
    <label>休憩終了</label>
    <input type="time" th:field="*{restEnd}">
    <br />
    <input type="submit" value="登録">
</form>
<form th:action="@{/admin/show}">
    <input type="submit" value="戻る">
</form>
</body>
</html>